---
title: "Clean Architecture: Domain Services: Quando usar e como implementar (Parte 9)"
date: "2025-05-26 14:00"
status: "published"
description: "Entenda o papel dos Domain Services na Clean Architecture: quando utilizá-los para encapsular lógica de negócio que não pertence a entidades específicas e como implementá-los para manter um domínio limpo e coeso."
autor: "Lucas Wesley Moreira Tinta"
category: "Clean Architecture"
slug: "clean-architecture-domain-services-quando-usar"
tags: ["Clean Architecture", "Domain Services", "Domínio", "Lógica de Negócio", "Stateless"]
---

Na Clean Architecture, especialmente quando combinada com os princípios do Domain-Driven Design (DDD), os **Domain Services** desempenham um papel crucial no encapsulamento da lógica de negócio que não pertence naturalmente a uma única entidade ou value object.

### O que são Domain Services?

Domain Services são classes stateless (sem estado) dentro da Camada de Domínio que encapsulam operações ou fluxos de trabalho específicos do domínio. Eles são distintos dos Application Services (muitas vezes chamados de Use Cases na Clean Architecture) e dos Infrastructure Services.

De acordo com Eric Evans, uma figura chave no Domain-Driven Design, um bom Domain Service exibe três características:

1.  **Relaciona-se a um Conceito de Domínio:** A operação representa um conceito de domínio que não se encaixa naturalmente em uma Entidade ou Value Object.
2.  **Interface Definida pelo Domínio:** Sua interface é definida puramente em termos de outros elementos do modelo de domínio (por exemplo, entidades, value objects).
3.  **Stateless (Sem Estado):** Não mantém nenhum estado relacionado ao processo de negócio que executa.

### Quando usar Domain Services

Você deve considerar o uso de Domain Services nos seguintes cenários:

*   **Lógica Envolvendo Múltiplas Entidades:** Quando uma parte da lógica de negócio exige a colaboração de duas ou mais entidades, e colocar essa lógica em qualquer entidade única violaria o encapsulamento ou forçaria uma entidade a conhecer preocupações fora de sua responsabilidade imediata. Por exemplo, um `PostService` pode lidar com a votação positiva de uma postagem, o que envolve tanto uma entidade `Member` quanto uma entidade `Post`.
*   **Operações que Não São "Coisas":** Quando você encontra um conceito de domínio que representa uma ação ou um cálculo, em vez de uma "coisa" tangível (entidade) ou um atributo descritivo (value object).
*   **Cálculos de Domínio Complexos:** Para cálculos ou transformações complexas que envolvem múltiplos objetos de domínio e não se encaixam perfeitamente no comportamento de uma entidade.
*   **Reutilização da Lógica de Domínio:** Para centralizar e reutilizar a lógica de domínio comum que não está ligada ao ciclo de vida de uma entidade específica.

### Domain Services na Clean Architecture

A Clean Architecture enfatiza uma abordagem em camadas onde as dependências apontam para dentro. Embora os diagramas possam simplificar a camada mais interna de "Entities", entende-se que ela abrange todos os objetos de domínio centrais, incluindo entidades, value objects e domain services. A Camada de Domínio é considerada o "coração de todo o sistema" e contém a lógica de negócio central.

A distinção frequentemente surge entre:

*   **Application Services (Use Cases):** Estes orquestram o fluxo da aplicação, lidam com as requisições do usuário e coordenam as interações entre os objetos de domínio e a infraestrutura. Eles contêm regras de negócio específicas da aplicação, mas *nenhuma* lógica de domínio central.
*   **Domain Services:** Estes contêm a lógica de negócio central, independente de casos de uso, que opera sobre os objetos de domínio.

### Implementando Domain Services

A implementação de Domain Services tipicamente envolve:

1.  **Localização:** Crie-os como classes dentro da Camada de Domínio da sua Clean Architecture. Isso garante que eles sejam independentes de frameworks externos e preocupações de UI.
2.  **Dependências:** Domain Services devem depender apenas de outros objetos de domínio (entidades, value objects) e, potencialmente, de interfaces definidas dentro da Camada de Domínio (por exemplo, interfaces de repositório). Eles não devem depender diretamente de preocupações de infraestrutura.
3.  **Ausência de Estado (Statelessness):** Garanta que os métodos do serviço sejam funções puras que recebem entradas (objetos de domínio) e retornam saídas (objetos de domínio ou value objects) sem manter estado interno entre as chamadas.
4.  **Interação com Repositórios:** Domain Services podem receber interfaces de repositório (definidas na Camada de Domínio e implementadas na Camada de Infraestrutura) via injeção de dependência para recuperar e persistir objetos de domínio quando necessário.
5.  **Chamada por Application Services:** Application Services (Use Cases) tipicamente recuperarão os objetos de domínio necessários dos repositórios, os passarão para o Domain Service apropriado para a execução da lógica de domínio complexa e, em seguida, persistirão quaisquer alterações.

Ao aderir a esses princípios, os Domain Services ajudam a manter uma separação limpa de preocupações, melhoram a testabilidade e garantem que a lógica de negócio central permaneça encapsulada e independente.

---

+++start+++

## Anterior
[Clean Architecture: Aggregates: Organizando entidades relacionadas (Parte 8)](8.clean-architecture-aggregates-organizando-entidades.md)

## Próximo
[Clean Architecture: Use Cases: Regras de negócio da aplicação (Parte 10)](10.clean-architecture-use-cases-regras-negocio-aplicacao.md)

+++end+++