---
title: "Clean Architecture: Data Mappers: Transformando entre camadas (Parte 21)"
date: "2025-06-07 14:00"
status: "published"
description: "Explore o papel dos Data Mappers na Clean Architecture: como eles facilitam a transformação de dados entre diferentes camadas, garantindo o desacoplamento e a consistência do modelo de domínio."
autor: "Lucas Wesley Moreira Tinta"
category: "Clean Architecture"
slug: "clean-architecture-data-mappers"
tags: ["Clean Architecture", "Data Mappers", "Transformação de Dados", "Desacoplamento", "Modelo de Domínio"]
---

Data Mappers são um componente crucial na implementação da Clean Architecture, servindo para facilitar a transformação de dados entre diferentes camadas de uma aplicação. Essa abordagem se alinha com os princípios da Clean Architecture, particularmente na manutenção da separação de preocupações e do desacoplamento.

### O que são Data Mappers na Clean Architecture?

Na Clean Architecture, uma aplicação é tipicamente dividida em camadas distintas, como a Camada de Apresentação, Camada de Domínio e Camada de Dados. Cada uma dessas camadas frequentemente opera com sua própria representação de dados, conhecida como modelos (por exemplo, Data Transfer Objects (DTOs) na Camada de Dados, Modelos de Domínio na Camada de Domínio e Modelos de Apresentação na Camada de Apresentação).

Data Mappers são componentes dedicados (classes ou funções) responsáveis por converter objetos de dados de um modelo de uma camada para outro. Por exemplo, um mapper pode transformar um DTO recebido de uma API (Camada de Dados) em um Modelo de Domínio que a lógica de negócio (Camada de Domínio) pode entender e processar, e vice-versa.

### Perspectiva da Clean Architecture sobre Data Mappers

Embora a Clean Architecture não defina explicitamente "Data Mappers" como um padrão distinto, as discussões sobre Object-Relational Mappers (ORMs) e o "impedance mismatch" entre objetos e bancos de dados relacionais são altamente relevantes. A Clean Architecture enfatiza que "Um Objeto Não É Uma Estrutura de Dados". Objetos, em sua visão, encapsulam comportamento e ocultam dados, enquanto estruturas de dados expõem dados.

Essa postura filosófica ressalta a necessidade de mapeamento explícito: como diferentes camadas (como a camada de persistência de dados e a camada de domínio) têm preocupações e representações de dados fundamentalmente diferentes, um mecanismo é necessário para traduzir entre elas sem violar os limites arquiteturais. Este é precisamente o papel que os Data Mappers desempenham na Clean Architecture.

### Implementação de Data Mappers

Data Mappers são tipicamente implementados como classes separadas ou funções de extensão. Sua localização pode variar, mas são comumente encontrados:

*   **Dentro da Camada de Dados:** Para converter DTOs (da rede ou banco de dados) em Modelos de Domínio antes de passá-los para a Camada de Domínio.
*   **Dentro da Camada de Repositório:** Muitos defendem a colocação da lógica de mapeamento dentro do repositório, pois a responsabilidade do repositório inclui fornecer à Camada de Domínio objetos de domínio totalmente formados, abstraindo os detalhes da fonte de dados.

### Benefícios dos Data Mappers na Clean Architecture

O uso de Data Mappers oferece várias vantagens significativas dentro de uma Clean Architecture:

1.  **Separação de Preocupações:** Mappers isolam a lógica para transformação de dados, garantindo que cada camada se concentre exclusivamente em suas responsabilidades primárias. Isso evita que a lógica de negócio seja entrelaçada com a formatação de dados ou detalhes de persistência.
2.  **Desacoplamento de Camadas:** Ao fornecer uma camada de tradução, os mappers tornam as camadas de Dados e Domínio independentes. Mudanças na estrutura da fonte de dados (por exemplo, uma mudança de API) exigem apenas modificações no mapper e na camada de dados, deixando a lógica de negócio central na Camada de Domínio inalterada.
3.  **Abstração e Encapsulamento:** Mappers encapsulam as complexidades da conversão de dados, levando a um código mais limpo, mais legível e mais mantenível.
4.  **Adaptabilidade a Mudanças na Fonte de Dados:** Se uma aplicação precisar mudar de fonte de dados (por exemplo, de uma API remota para um banco de dados local), os mappers facilitam essa transição, adaptando os dados de entrada ao Modelo de Domínio consistente.
5.  **Consistência do Modelo de Domínio:** Mappers garantem que a Camada de Domínio sempre interaja com um Modelo de Domínio unificado e consistente, independentemente de onde os dados se originaram. Isso é crucial para manter a integridade das regras de negócio.
6.  **Testabilidade Aprimorada:** O isolamento da lógica de mapeamento permite um teste unitário mais fácil de camadas individuais. As fontes de dados podem ser mockadas, e os mappers podem ser testados independentemente para garantir a transformação correta dos dados.
7.  **Redução do Inchaço do Modelo:** Cada camada pode ter seu próprio modelo enxuto, contendo apenas os campos e a lógica necessários para aquela camada específica. Isso evita que os modelos se tornem inchados com propriedades ou anotações irrelevantes de outras camadas (por exemplo, estados específicos da UI em modelos de dados).

Embora os Data Mappers introduzam classes adicionais e possam parecer prolixos para projetos menores, seus benefícios em termos de manutenibilidade, escalabilidade e testabilidade tornam-se inestimáveis em aplicações maiores e mais complexas que aderem aos princípios da Clean Architecture.

---

+++start+++

## Anterior
[Clean Architecture: Dependency Injection na prática (Parte 20)](20.clean-architecture-dependency-injection.md)

## Próximo
[Clean Architecture: Configuração e Bootstrap da aplicação (Parte 22)](22.clean-architecture-configuracao-bootstrap.md)

+++end+++