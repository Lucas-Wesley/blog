---
title: "Clean Architecture: Primary vs Secondary Ports na prática (Parte 24)"
date: "2025-06-10 14:00"
status: "published"
description: "Entenda a distinção entre Primary (Driving/Inbound) e Secondary (Driven/Outbound) Ports na Clean Architecture e Arquitetura Hexagonal, e como essa separação garante a independência e testabilidade do seu domínio."
autor: "Lucas Wesley Moreira Tinta"
category: "Clean Architecture"
slug: "clean-architecture-primary-secondary-ports"
tags: ["Clean Architecture", "Ports and Adapters", "Arquitetura Hexagonal", "Primary Ports", "Secondary Ports", "Inbound Ports", "Outbound Ports"]
---

Tanto a Clean Architecture quanto a Arquitetura Hexagonal (também conhecida como Ports and Adapters) visam separar a lógica de negócio central de preocupações externas como UI, bancos de dados e serviços de terceiros. Elas alcançam isso através do conceito de "ports" (portas) e "adapters" (adaptadores), embora usem terminologias ligeiramente diferentes e enfatizem aspectos distintos.

### Arquitetura Hexagonal (Ports and Adapters)

A Arquitetura Hexagonal, introduzida por Alistair Cockburn, foca em isolar a lógica central da aplicação de suas dependências externas. O "hexágono" representa a aplicação, e as "ports" são as interfaces através das quais a aplicação se comunica com o mundo exterior. Os "adapters" são as implementações concretas que conectam essas portas a tecnologias específicas.

**Conceitos Chave:**

*   **Ports (Portas):** São interfaces que definem o contrato para a comunicação entre o core da aplicação e os atores externos. Elas são agnósticas à tecnologia.
    *   **Primary Ports (Driving Ports / Inbound Ports):** Estas definem como os atores externos (drivers) interagem e "dirigem" a aplicação. Elas representam a API da aplicação, permitindo que componentes externos como interfaces de usuário, scripts de teste ou outras aplicações iniciem ações dentro do core. O core da aplicação tipicamente implementa essas interfaces.
        *   *Exemplo:* Uma interface `UserService` com métodos como `createUser(UserDto user)` que um controlador web (adaptador) chamaria.
    *   **Secondary Ports (Driven Ports / Outbound Ports):** Estas definem o que o core da aplicação precisa do mundo exterior (atores driven). O core da aplicação define essas interfaces, mas os componentes externos (adaptadores) as implementam. Isso permite que a aplicação "dirija" serviços externos, como bancos de dados, filas de mensagens ou APIs externas.
        *   *Exemplo:* Uma interface `UserRepository` com métodos como `save(User user)` que um adaptador de banco de dados implementaria.
*   **Adapters (Adaptadores):** São a "cola" que traduz requisições e respostas entre a tecnologia específica do mundo exterior e o formato geral das portas.
    *   **Primary Adapters (Driving Adapters / Inbound Adapters):** Estes iniciam a interação com a aplicação chamando portas primárias. Exemplos incluem controladores web, manipuladores de eventos GUI ou frameworks de teste.
    *   **Secondary Adapters (Driven Adapters / Outbound Adapters):** Estes implementam portas secundárias, permitindo que o core da aplicação interaja com tecnologias externas. Exemplos incluem implementações de banco de dados (por exemplo, adaptadores SQL), serviços de e-mail ou clientes de API de terceiros.

### Clean Architecture

Clean Architecture é um conceito mais amplo que incorpora princípios da Arquitetura Hexagonal, Onion Architecture e outras. Ela enfatiza uma estrutura em camadas com uma rigorosa "Regra da Dependência", o que significa que as dependências sempre apontam para dentro.

Embora a Clean Architecture não use explicitamente os termos "primary" e "secondary" ports de forma tão universal quanto a Arquitetura Hexagonal, os conceitos subjacentes são muito semelhantes:

*   **Driving vs. Driven Ports (Inbound vs. Outbound Ports):** Na Clean Architecture, esses conceitos se alinham com a forma como os casos de uso interagem com componentes externos.
    *   **Driving/Inbound Ports:** Correspondem às interfaces que os casos de uso da aplicação expõem à camada de "Interface Adapters" (por exemplo, controladores, apresentadores). Estes são os pontos de entrada para que atores externos interajam com a lógica central da aplicação.
    *   **Driven/Outbound Ports:** Correspondem às interfaces das quais os casos de uso dependem para interagir com sistemas externos (por exemplo, bancos de dados, serviços externos). Essas interfaces são definidas dentro da camada de "Use Cases" e implementadas por "Gateways" na camada de "Interface Adapters".

Em essência, ambas as arquiteturas promovem o Princípio da Inversão de Dependência, garantindo que a lógica de negócio central permaneça independente de detalhes externos e possa ser testada isoladamente.

---

+++start+++

## Anterior
[Clean Architecture: Configuração e Bootstrap da aplicação (Parte 22)](22.clean-architecture-configuracao-bootstrap.md)

## Próximo
[Clean Architecture: Implementando Adapters eficazes (Parte 25)](25.clean-architecture-implementing-adapters.md)

+++end+++